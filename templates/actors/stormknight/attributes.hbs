<div class="attributes header">
  <h2>{{localize "torgeternity.sheetLabels.attributes"}}</h2>
  {{#if editable}}
    <a class="changeAttributesToggle" data-action="changeAttributesToggle"
      data-tooltip="{{localize 'torgeternity.iconeTitles.edit'}}">
      <i class="fas fa-edit"></i>
    </a>
  {{/if}}
  {{#if editAttributes}}
    <h5>{{localize "torgeternity.sheetLabels.alterAttributes"}}</h5>
  {{/if}}
</div>

{{#*inline "oneAttribute" attrName attrValue}}
  <li class="attribut-block">
    <a
      class="skill-roll draggable" data-action="skillRoll"
      data-testType="attribute"
      data-baseAttribute="{{attrName}}"
      data-adds="0"
      data-value="{{attrValue.value}}"
      data-unskilledUse="1"
      {{disabled (not @root.editable)}}
      data-name="{{attrName}}">
      {{localize (concat 'torgeternity.attributes.' attrName)}}
    </a>
    {{#if @root.editAttributes}}
      <a
        class="increaseAttribute" data-action="increaseAttribute" data-concernedAttribute="{{attrName}}"
        {{#if (gte attrValue.base attrValue.maximum)}} style="visibility:hidden" {{/if}}>
        <i class="fa-solid fa-plus changeAttributeAdd"></i>
      </a>
    {{/if}}

    <input
      name="{{concat 'system.attributes.' attrName '.value' }}"
      type="number"
      class="attributeValueField"
      data-baseAttributeInput="{{attrName}}"
      value="{{ifThen @root.editAttributes attrValue.base attrValue.value}}"
      data-dtype="Number"
      {{#unless @root.editAttributes}} readonly="true" {{/unless}} />
    {{#if @root.editAttributes}}
      <a class="decreaseAttribute" data-action="decreaseAttribute" data-concernedAttribute="{{attrName}}">
        <i class="fa-solid fa-minus changeAttributeSubstract"></i>
      </a>
      <i
        {{#if (eq document.system.details.race (localize "torgeternity.sheetLabels.noRace" ))}}
        style="visibility:hidden"
        {{/if}}>
        {{localize "torgeternity.sheetLabels.max"}} {{attrValue.maximum}}
      </i>
    {{/if}}
  </li>
{{/inline}}

<ul class="attribut-list">
  {{> oneAttribute attrName="charisma"  attrValue=document.system.attributes.charisma}}
  {{> oneAttribute attrName="dexterity" attrValue=document.system.attributes.dexterity}}
  {{> oneAttribute attrName="mind"      attrValue=document.system.attributes.mind}}
  {{> oneAttribute attrName="spirit"    attrValue=document.system.attributes.spirit}}
  {{> oneAttribute attrName="strength"  attrValue=document.system.attributes.strength}}
</ul>